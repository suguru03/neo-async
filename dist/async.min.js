(function(){function u(b){for(var d=Object.keys(b),a=-1,c=d.length,e=Array(c);++a<c;)e[a]=b[d[a]];return e}function G(b){for(var d=-1,a=b.length,c=Array(a);++d<a;)c[d]=b[d];return c}function v(b,d){var a=-1,c=b.length-d;if(0>=c)return[];for(var e=Array(c);++a<c;)e[a]=b[a+d];return e}function ha(b){for(var d=-1,a=b.length,c=Array(a);++d<a;)c[a-d-1]=b[d];return c}function r(b,d){for(var a=-1,c=b.length;++a<c;)d(b[a],a,b);return b}function t(b,d,a){a=a||Object.keys(b);for(var c=-1,e=a.length;++c<e;){var f=
a[c];d(b[f],f,b)}return b}function ia(b,d){return Array.isArray(b)?r(b,d):t(b,d)}function q(b,d){for(var a=-1;++a<b;)d(a)}function S(b,d){for(var a=b.length,c=-1;++c<a;)if(!d(b[c]))return!1;return!0}function w(b){for(var d=b.length,a=-1,c=Array(d);++a<d;)c[a]=b[a];return c}function D(b){for(var d=Object.keys(b),a=d.length,c=-1,e={};++c<a;){var f=d[c];e[f]=b[f]}return e}function T(b,d){for(var a=-1,c=b.length,e=Array(c);++a<c;)e[a]=(b[a]||{})[d];return e}function s(b){var d=!1;return function(a,c){if(d){if(a)return b(a,
c);throw Error("Callback was already called.");}d=!0;b(a,c)}}function H(b,d,a,c){function e(b,c){b?(a(b),a=function(){}):!1===c?(a(),a=function(){}):++g>=f&&(a(),a=function(){})}a=a||function(){};var f,g=0,h=c?d.bind(c):d;d=function(a){h(a,s(e))};if(Array.isArray(b)){f=b.length;if(!f)return a();r(b,d)}else{c=Object.keys(b);f=c.length;if(!f)return a();t(b,d,c)}}function I(b,d,a,c){function e(b,c){if(h)throw Error("Callback was already called.");h=!0;if(b)return a(b);if(++k>=f||!1===c)return a();g()}
a=a||function(){};var f,g,h,k=0,l=c?d.bind(c):d;if(Array.isArray(b)){f=b.length;if(!f)return a();g=function(){h=!1;l(b[k],e)}}else{var m=Object.keys(b);f=m.length;if(!f)return a();g=function(){h=!1;l(b[m[k]],e)}}g()}function U(b,d,a,c,e){function f(a,b){a?(c(a),c=function(){}):++k>=g?(c(),c=function(){}):!1===b?(c(),c=function(){}):k>=l+d&&(l=k,h())}c=c||function(){};var g,h,k=0,l=0,m=e?a.bind(e):a;if(Array.isArray(b)){g=b.length;if(!g)return c();h=function(){q(d,function(a){a=l+a;a>=g||m(b[a],s(f))})}}else{var n=
Object.keys(b);g=n.length;if(!g)return c();h=function(){q(d,function(a){a=l+a;a>=g||m(b[n[a]],s(f))})}}h()}function V(b,d,a,c){function e(b){var c=!1;return function(e,d){if(c)throw Error("Callback was already called.");c=!0;g[b]=d;e?(a(e,w(g)),a=function(){}):++k>=f&&(a(null,g),a=function(){})}}a=a||function(){};var f,g,h=0,k=0,l=c?d.bind(c):d;d=function(a){l(a,e(h++))};if(Array.isArray(b)){f=b.length;g=Array(f);if(!f)return a(null,g);r(b,d)}else{c=Object.keys(b);f=c.length;g=Array(f);if(!f)return a(null,
g);t(b,d,c)}}function W(b,d,a,c){function e(b){var c=!1;return function(e,d){if(c)throw Error("Callback was already called.");c=!0;g[b]=d;e?(a(e,w(g)),a=function(){}):++k>=f?(a(null,g),a=function(){}):h()}}a=a||function(){};var f,g,h,k=0,l=c?d.bind(c):d;if(Array.isArray(b)){f=b.length;g=Array(f);if(!f)return a(null,g);h=function(){l(b[k],e(k))}}else{var m=Object.keys(b);f=m.length;g=Array(f);if(!f)return a(null,g);h=function(){l(b[m[k]],e(k))}}h()}function X(b,d,a,c,e){function f(a){var b=!1;return function(e,
f){if(b)throw Error("Callback was already called.");b=!0;h[a]=f;e?(c(e,w(h)),c=function(){}):++l>=g?(c(null,h),c=function(){}):l>=m+d&&(m=l,k())}}c=c||function(){};var g,h,k,l=0,m=0,n=e?a.bind(e):a;if(Array.isArray(b)){g=b.length;h=Array(g);if(!g)return c(null,h);k=function(){q(d,function(a){a=m+a;a>=g||n(b[a],f(a))})}}else{var p=Object.keys(b);g=p.length;h=Array(g);if(!g)return c(null,h);k=function(){q(d,function(a){a=m+a;a>=g||n(b[p[a]],f(a))})}}k()}function Y(b,d,a,c){J(b,d,function(c){a=a||function(){};
a(Array.isArray(b)?c:u(c))},c)}function Z(b,d,a,c){K(b,d,function(c){a=a||function(){};a(Array.isArray(b)?c:u(c))},c)}function $(b,d,a,c,e){L(b,d,a,function(a){c=c||function(){};c(Array.isArray(b)?a:u(a))},e)}function M(b,d,a,c,e){a=a||function(){};var f,g=0,h=function(){function b(c){return function(b){b?++g>=f&&(a(),a=function(){}):(a(c),a=function(){})}}function c(b){return function(c){c?(a(b),a=function(){}):++g>=f&&(a(),a=function(){})}}return e?b:c}(),k=c?d.bind(c):d;d=function(a){k(a,h(a))};
if(Array.isArray(b)){f=b.length;if(!f)return a();r(b,d)}else{f=Object.keys(b).length;if(!f)return a();t(b,d)}}function N(b,d,a,c,e){a=a||function(){};var f,g,h,k=0,l=function(){function b(c){return function(b){if(h)throw Error("Callback was already called.");h=!0;if(!b)return a(c);if(++k>=f)return a();g()}}function c(b){return function(c){if(h)throw Error("Callback was already called.");h=!0;if(c)return a(b);if(++k>=f)return a();g()}}return e?b:c}(),m=c?d.bind(c):d;if(Array.isArray(b)){f=b.length;
if(!f)return a();g=function(){h=!1;var a=b[k];m(a,l(a))}}else{var n=Object.keys(b);f=n.length;if(!f)return a();g=function(){h=!1;var a=b[n[k]];m(a,l(a))}}g()}function O(b,d,a,c,e,f){c=c||function(){};var g,h,k=0,l=0,m=function(){function a(b){return function(a){a?++k>=g?(c(),c=function(){}):k>=l+d&&(l=k,h()):(c(b),c=function(){})}}function b(a){return function(b){b?(c(a),c=function(){}):++k>=g?(c(),c=function(){}):k>=l+d&&(l=k,h())}}return f?a:b}(),n=e?a.bind(e):a;if(Array.isArray(b)){g=b.length;
if(!g)return c();h=function(){q(d,function(a){a=l+a;a>=g||(a=b[a],n(a,s(m(a))))})}}else{var p=Object.keys(b);g=p.length;if(!g)return c();h=function(){q(d,function(a){a=l+a;a>=g||(a=b[p[a]],n(a,s(m(a))))})}}h()}function J(b,d,a,c,e){a=a||function(){};var f,g=Array.isArray(b),h={},k=0,l=function(){function b(c,e){var d=!1;return function(b){if(d)throw Error("Callback was already called.");d=!0;b||(h[c+""]=e);++k>=f&&a(g?u(h):h)}}function c(b,e){var d=!1;return function(c){if(d)throw Error("Callback was already called.");
d=!0;c&&(h[b+""]=e);++k>=f&&a(g?u(h):h)}}return e?b:c}(),m=c?d.bind(c):d;d=function(a,b){m(a,l(b,a))};if(g){f=b.length;if(!f)return a([]);r(b,d)}else{f=Object.keys(b).length;if(!f)return a({});t(b,d)}}function K(b,d,a,c,e){a=a||function(){};var f,g,h=Array.isArray(b),k={},l=0,m=function(){function b(c,e){var d=!1;return function(b){if(d)throw Error("Callback was already called.");d=!0;b||(k[c+""]=e);if(++l>=f)return a(h?u(k):k);g()}}function c(b,e){var d=!1;return function(c){if(d)throw Error("Callback was already called.");
d=!0;c&&(k[b+""]=e);if(++l>=f)return a(h?u(k):k);g()}}return e?b:c}(),n=c?d.bind(c):d;if(h){f=b.length;if(!f)return a([]);g=function(){var a=b[l];n(a,m(l,a))}}else{var p=Object.keys(b);f=p.length;if(!f)return a({});g=function(){var a=p[l],c=b[a];n(c,m(a,c))}}g()}function L(b,d,a,c,e,f){c=c||function(){};var g,h,k=Array.isArray(b),l={},m=0,n=0,p=function(){function a(b,e){var f=!1;return function(a){if(f)throw Error("Callback was already called.");f=!0;a||(l[b+""]=e);if(++m>=g)return c(k?u(l):l);m>=
n+d&&(n=m,h())}}function b(a,e){var f=!1;return function(b){if(f)throw Error("Callback was already called.");f=!0;b&&(l[a+""]=e);if(++m>=g)return c(k?u(l):l);m>=n+d&&(n=m,h())}}return f?a:b}(),y=e?a.bind(e):a;if(k){g=b.length;if(!g)return c([]);h=function(){q(d,function(a){a=n+a;if(!(a>=g)){var c=b[a];y(c,p(a,c))}})}}else{var E=Object.keys(b);g=E.length;if(!g)return c({});h=function(){q(d,function(a){a=n+a;if(!(a>=g)){a=E[a];var c=b[a];y(c,p(a,c))}})}}h()}function aa(b,d,a,c,e){function f(a,b){if(k)throw Error("Callback was already called.");
k=!0;if(a)return c(a);if(++l>=g)return c(null,b);h(b)}c=c||function(){};var g,h,k,l=0,m=e?a.bind(e):a;if(Array.isArray(b)){g=b.length;if(!g)return c(null,d);h=function(a){k=!1;m(a,b[l],f)}}else{var n=Object.keys(b);g=n.length;if(!g)return c(null,d);h=function(a){k=!1;m(a,b[n[l]],f)}}h(d)}function P(b){function d(a,b,d,k){b=c(b,k);W(a,b,e(d))}function a(a,b,d,k,l){d=c(d,l);X(a,b,d,e(k))}function c(a,b){var c=b?a.bind(b):a;return function(a,b){c(a,function(c,e){if(c)return b(c);b(null,{item:a,criteria:e})})}}
function e(a){return function(b,c){if(b)return a(b);var e=c.sort(function(a,b){return b.criteria<a.criteria});a(null,T(e,"item"))}}switch(b){case "series":return d;case "limit":return a;default:return function(a,b,d,k){b=c(b,k);V(a,b,e(d))}}}function ba(b,d,a){function c(a){var b=!1;return function(c,f){if(b)throw Error("Callback was already called.");b=!0;if(c)return d(c,h);h[a]=f;if(++g>=e)return d(null,h)}}d=d||function(){};var e,f=Array.isArray(b),g=0,h=f?[]:{};if(f){e=b.length;if(!e)return d(null,
h);a?r(b,function(b,e){b.call(a,c(e))}):r(b,function(a,b){a(c(b))})}else{f=Object.keys(b);e=f.length;if(!e)return d(null,h);a?t(b,function(b,e){b.call(a,c(e))},f):t(b,function(a,b){a(c(b))},f)}}function ca(b,d,a){function c(a){var b=!1;return function(c,g){if(b)throw Error("Callback was already called.");b=!0;if(c)return d(c,h);h[a]=g;if(++k>=e)return d(null,h);f()}}d=d||function(){};var e,f,g=Array.isArray(b),h=g?[]:{},k=0;if(g){e=b.length;if(!e)return d(null,h);f=a?function(){b[k].call(a,c(k))}:
function(){b[k](c(k))}}else{var l=Object.keys(b);e=l.length;if(!e)return d(null,h);f=a?function(){var e=l[k];b[e].call(a,c(e))}:function(){var a=l[k];b[a](c(a))}}f()}function Q(b,d,a,c){function e(b){var c=!1;return function(e,h){if(c)throw Error("Callback was already called.");c=!0;if(e)return a(e,k);k[b]=h;if(++l>=f)return a(null,k);l>=m+d&&(m=l,g())}}a=a||function(){};var f,g,h=Array.isArray(b),k=h?[]:{},l=0,m=0;if(h){f=b.length;if(!f)return a(null,k);g=c?function(){q(d,function(a){a=m+a;a>=f||
b[a].call(c,e(a))})}:function(){q(d,function(a){a=m+a;if(!(a>=f))b[a](e(a))})}}else{var n=Object.keys(b);f=n.length;if(!f)return a(null,k);g=c?function(){q(d,function(a){a=m+a;a>=f||(a=n[a],b[a].call(c,e(a)))})}:function(){q(d,function(a){a=m+a;a>=f||(a=n[a],b[a](e(a)))})}}g()}function da(){var b=arguments;return function(){var d=this,a=G(arguments),c=a.pop();aa(b,a,function(a,b,c){a.push(function(a){var b=v(arguments,1);c(a,b)});b.apply(d,a)},function(a,b){b=Array.isArray(b)?b:[b];b.unshift(a);c.apply(d,
b)})}}function ea(b){var d="series"===b?I:H;return function(a){var b=this,e=v(arguments,1),f=e.pop()||function(){};d(a,function(a,d){a.apply(b,e.concat(d))},f)}}function fa(b,d,a){function c(a,b,c){var d=Array.isArray(a)?a:[a];a&&d.length?(e.started=!0,c="function"==typeof c?c:null,r(d,function(a){e.tasks.push({task:a,priority:b,callback:c});e.tasks=e.tasks.sort(function(a,b){return b.priority<a.priority});"function"==typeof e.saturated&&e.length()>=e.concurrency&&e.saturated();x(e.process)})):e.idle()&&
"function"==typeof e.drain&&x(e.drain)}var e={tasks:[],concurrency:d||1,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(a,b,e){c(a,b,e)},kill:function(){e.drain=null;e.tasks=[]},process:function(){function a(){f--;b.callback&&b.callback.apply(b,arguments);"function"==typeof e.drain&&e.idle()&&e.drain();e.process()}if(!(e.paused||f>=e.concurrency)&&e.length()){var b=e.tasks.shift();"function"!=typeof e.empty||e.length()||e.empty();f++;(e._thisArg?e._worker.bind(e._thisArg):
e._worker)(b.task,s(a))}},length:function(){return e.tasks.length},running:function(){return f},idle:function(){return 0===e.length()+f},pause:function(){e.paused=!0},resume:function(){!1!==e.paused&&(e.paused=!1,q(e.concurrency,function(){C.setImmediate(e.process)}))},_worker:b,_thisArg:a},f=0;return e}function ga(b,d,a,c){function e(c){var d=!1;return function(m,n){if(d)throw Error("Callback was already called.");d=!0;f[c]=n;if(m)return a(m);if(++g>=b)return a(null,f);h(g,e(g))}}a=a||function(){};
var f=[];if(1>b)return a(null,f);var g=0,h=c?d.bind(c):d;h(g,e(g))}function R(b){function d(a){if(z[typeof console])if(a)console.error&&console.error(a);else if(console[b]){var c=v(arguments,1);r(c,function(a){console[b](a)})}}return function(a){var b=v(arguments,1);b.push(d);a.apply(null,b)}}function A(b,d){this._emitter=b||ca;this._limit=d||4;this._events={}}var B=this,ja=B&&B.async,z={"function":!0,object:!0},F,x;(function(){z[typeof process]&&process.nextTick?(F=process.nextTick,x=z[typeof setImmediate]?
function(b){setImmediate(b)}:F):x=F=z[typeof setImmediate]?function(b){setImmediate(b)}:function(b){setTimeout(b,0)}})();var C={VERSION:"0.4.9",each:H,eachSeries:I,eachLimit:U,forEach:H,forEachSeries:I,forEachLimit:U,map:V,mapSeries:W,mapLimit:X,filter:Y,filterSeries:Z,filterLimit:$,select:Y,selectSeries:Z,selectLimit:$,reject:function(b,d,a,c){J(b,d,a,c,!0)},rejectSeries:function(b,d,a,c){K(b,d,a,c,!0)},rejectLimit:function(b,d,a,c,e){L(b,d,a,c,e,!0)},detect:M,detectSeries:N,detectLimit:O,pick:J,
pickSeries:K,pickLimit:L,reduce:aa,reduceRight:function(b,d,a,c,e){function f(a,b){if(k)throw Error("Callback was already called.");k=!0;if(a)return c(a);if(++l>=g)return c(null,b);h(b)}c=c||function(){};var g,h,k,l=0,m=e?a.bind(e):a;if(Array.isArray(b)){g=b.length;if(!g)return c(null,d);h=function(a){k=!1;m(a,b[g-l-1],f)}}else{var n=Object.keys(b);g=n.length;if(!g)return c(null,d);h=function(a){k=!1;m(a,b[n[g-l-1]],f)}}h(d)},transform:function(b,d,a,c,e){function f(b,c){b?(a(b,h?w(k):D(k)),a=function(){}):
!1===c?(a(null,h?w(k):D(k)),a=function(){}):++l>=g&&(a(null,k),a=function(){})}a=a||function(){};var g,h=Array.isArray(b),k=void 0!==c?c:h?[]:{},l=0,m=e?d.bind(e):d;d=function(a,b){m(k,a,b,s(f))};if(h){g=b.length;if(!g)return a(null,k);r(b,d)}else{c=Object.keys(b);g=c.length;if(!g)return a(null,k);t(b,d,c)}},transformSeries:function(b,d,a,c,e){function f(b,c){if(k)throw Error("Callback was already called.");k=!0;if(b)return a(b,m);if(!1===c||++n>=g)return a(null,m);h()}a=a||function(){};var g,h,k,
l=Array.isArray(b),m=void 0!==c?c:l?[]:{},n=0,p=e?d.bind(e):d;if(l){g=b.length;if(!g)return a(null,m);h=function(){k=!1;p(m,b[n],n,f)}}else{var y=Object.keys(b);g=y.length;if(!g)return a(null,m);h=function(){k=!1;var a=y[n];p(m,b[a],a,f)}}h()},transformLimit:function(b,d,a,c,e,f){function g(a,b){a?(c(a,l?w(m):D(m)),c=function(){}):!1===b?(c(null,l?w(m):D(m)),c=function(){}):++n>=h?(c(null,m),c=function(){}):n>=p+d&&(p=n,k())}c=c||function(){};var h,k,l=Array.isArray(b),m=void 0!==e?e:l?[]:{},n=0,
p=0,y=f?a.bind(f):a;if(l){h=b.length;if(!h)return c(null,m);k=function(){q(d,function(a){a=p+a;a>=h||y(m,b[a],a,s(g))})}}else{var E=Object.keys(b);h=E.length;if(!h)return c(null,m);k=function(){q(d,function(a){a=p+a;a>=h||(a=E[a],y(m,b[a],a,s(g)))})}}k()},sortBy:P(),sortBySeries:P("series"),sortByLimit:P("limit"),some:function(b,d,a,c){M(b,d,function(b){a=a||function(){};a(!!b)},c)},someSeries:function(b,d,a,c){N(b,d,function(b){a=a||function(){};a(!!b)},c)},someLimit:function(b,d,a,c,e){O(b,d,a,
function(a){c=c||function(){};c(!!a)},e)},every:function(b,d,a,c){M(b,d,function(b){a=a||function(){};a(!b)},c,!0)},everySeries:function(b,d,a,c){N(b,d,function(b){a=a||function(){};a(!b)},c,!0)},everyLimit:function(b,d,a,c,e){O(b,d,a,function(a){c=c||function(){};c(!a)},e,!0)},concat:function(b,d,a,c){function e(b,c){c&&Array.prototype.push.apply(g,Array.isArray(c)?c:[c]);b?(a(b,w(g)),a=function(){}):++h>=f&&(a(null,g),a=function(){})}a=a||function(){};var f,g=[],h=0,k=c?d.bind(c):d;d=function(a){k(a,
s(e))};if(Array.isArray(b)){f=b.length;if(!f)return a(null,g);r(b,d)}else{c=Object.keys(b);f=c.length;if(!f)return a(null,g);t(b,d,c)}},concatSeries:function(b,d,a,c){function e(b,c){if(h)throw Error("Callback was already called.");h=!0;c&&Array.prototype.push.apply(k,Array.isArray(c)?c:[c]);if(b)return a(b,k);if(++l>=f)return a(null,k);g()}a=a||function(){};var f,g,h,k=[],l=0,m=c?d.bind(c):d;if(Array.isArray(b)){f=b.length;if(!f)return a(null,k);g=function(){h=!1;m(b[l],e)}}else{var n=Object.keys(b);
f=n.length;if(!f)return a(null,k);g=function(){h=!1;m(b[n[l]],e)}}g()},concatLimit:function(b,d,a,c,e){function f(a,b){b&&Array.prototype.push.apply(k,Array.isArray(b)?b:[b]);a?(c(a,k),c=function(){}):++l>=g?(c(null,k),c=function(){}):l>=m+d&&(m=l,h())}c=c||function(){};var g,h,k=[],l=0,m=0,n=e?a.bind(e):a;if(Array.isArray(b)){g=b.length;if(!g)return c(null,k);h=function(){q(d,function(a){a=m+a;a>=g||n(b[a],s(f))})}}else{var p=Object.keys(b);g=p.length;if(!g)return c(null,k);h=function(){q(d,function(a){a=
m+a;a>=g||n(b[p[a]],s(f))})}}h()},multiEach:function(b,d,a){function c(c){c?(a(c),a=function(){}):h>=g&&l&&(a(null,b),a=function(){})}function e(a){var b=f[a];return function(d,f){if(d)return c(d);var q=e(a+1);b&&"object"==typeof f&&ia(f,function(a,d){if(a===k)return l=!0,c();g++;b(a,d,q)});if(a)return h++,c()}}a=a||function(){};var f=Array.isArray(d)?d:u(d);if(!d||!f.length)return a(null,b);var g=0,h=0,k={},l=!1;d=Array.isArray(b)?w(b):u(b);d.push(k);e(0)(null,d)},parallel:ba,series:ca,parallelLimit:Q,
waterfall:function(b,d,a){var c;function e(b){if(h)throw Error("Callback was already called.");h=!0;if(b)return d(b);c=v(arguments,1);if(++k>=f){var e=c;e.unshift(null);return d.apply(a,e)}g()}d=d||function(){};var f,g,h;c=[];var k=0;if(Array.isArray(b)){f=b.length;if(!f)return d();g=a?function(){h=!1;var d=b[k],f=c;switch(f.length){case 0:return d.call(a,e);case 1:return d.call(a,f[0],e);case 2:return d.call(a,f[0],f[1],e);case 3:return d.call(a,f[0],f[1],f[2],e);case 4:return d.call(a,f[0],f[1],
f[2],f[3],e);case 5:return d.call(a,f[0],f[1],f[2],f[3],f[4],e);default:return f.push(e),d.apply(a,f)}}:function(){h=!1;var a=b[k],d=c;switch(d.length){case 0:return a(e);case 1:return a(d[0],e);case 2:return a(d[0],d[1],e);case 3:return a(d[0],d[1],d[2],e);case 4:return a(d[0],d[1],d[2],d[3],e);case 5:return a(d[0],d[1],d[2],d[3],d[4],e);default:return d.push(e),a.apply(null,d)}}}else{var l=Object.keys(b);f=l.length;if(!f)return d();g=a?function(){h=!1;var d=b[l[k]],f=c;switch(f.length){case 0:return d.call(a,
e);case 1:return d.call(a,f[0],e);case 2:return d.call(a,f[0],f[1],e);case 3:return d.call(a,f[0],f[1],f[2],e);case 4:return d.call(a,f[0],f[1],f[2],f[3],e);case 5:return d.call(a,f[0],f[1],f[2],f[3],f[4],e);default:return f.push(e),d.apply(a,f)}}:function(){h=!1;var a=b[l[k]],d=c;switch(d.length){case 0:return a(e);case 1:return a(d[0],e);case 2:return a(d[0],d[1],e);case 3:return a(d[0],d[1],d[2],e);case 4:return a(d[0],d[1],d[2],d[3],e);case 5:return a(d[0],d[1],d[2],d[3],d[4],e);default:return d.push(e),
a.apply(null,d)}}}g()},whilst:function(b,d,a,c){function e(){b()?f(function(b){if(b)return a(b);e()}):a()}a=a||function(){};var f=c?d.bind(c):d;e()},doWhilst:function(b,d,a,c){function e(){f(function(b){if(b)return a(b);var f=v(arguments,1);d.apply(c,f)?e():a()})}a=a||function(){};var f=c?b.bind(c):b;e()},until:function(b,d,a,c){function e(){b()?a():f(function(b){if(b)return a(b);e()})}a=a||function(){};var f=c?d.bind(c):d;e()},doUntil:function(b,d,a,c){function e(){f(function(b){if(b)return a(b);
var f=v(arguments,1);d.apply(c,f)?a():e()})}a=a||function(){};var f=c?b.bind(c):b;e()},forever:function(b,d,a){function c(){e(function(a){if(a)return d(a);c()})}d=d||function(){};var e=a?b.bind(a):b;c()},compose:function(){return da.apply(null,ha(arguments))},seq:da,applyEach:ea(),applyEachSeries:ea("series"),queue:function(b,d,a){function c(a,b,c){var d=Array.isArray(a)?a:[a];a&&d.length?(e.started=!0,b="function"==typeof b?b:null,r(d,function(a){a={task:a,callback:b};c?e.tasks.unshift(a):e.tasks.push(a);
"function"==typeof e.saturated&&e.length()>=e.concurrency&&e.saturated();x(e.process)})):e.idle()&&"function"==typeof e.drain&&x(e.drain)}var e=fa(b,d,a);e.unshift=function(a,b){c(a,b,!0)};e.push=function(a,b){c(a,b)};return e},priorityQueue:fa,cargo:function(b,d){var a={tasks:[],payload:d,saturated:null,empty:null,drain:null,drained:!0,push:function(b,c){b=Array.isArray(b)?b:[b];c="function"==typeof c?c:null;r(b,function(b){a.tasks.push({data:b,callback:c});a.drained=!1;"function"==typeof a.saturated&&
a.length()===a.payload&&a.saturated()});x(a.process)},process:function(){if(!c)if(a.length()){var e="number"==typeof a.payload?a.tasks.splice(0,d):a.tasks,f=T(e,"data");a.length()||"function"!=typeof a.empty||a.empty();c=!0;b(f,function(){c=!1;var b=arguments;r(e,function(a){a.callback&&a.callback.apply(null,b)});a.process()})}else"function"!=typeof a.drain||a.drained||a.drain(),a.drained=!0},length:function(){return a.tasks.length},running:function(){return c}},c=!1;return a},auto:function(b,d){function a(a){g.unshift(a)}
function c(){f--;r(g.slice(0),function(a){a()})}d=d?s(d):function(){};var e=Object.keys(b),f=e.length;if(!f)return d();var g=[],h={};a(function(){f||d(null,h)});t(b,function(b,e){function f(a){var b=v(arguments,1);1>=b.length&&(b=b[0]);if(a){var g=D(h);g[e]=b;return d(a,g)}h[e]=b;x(c)}function n(){return!h.hasOwnProperty(e)&&S(r,function(a){return h.hasOwnProperty(a)})}function p(){if(n()){var a;a:{a=-1;for(var b=g.length;++a<b;)if(g[a]===p)break a;a=void 0}0<=a&&g.splice(a,1);s(f,h)}}b=Array.isArray(b)?
b:[b];var q=b.length,r=b.slice(0,q-1),s=b[q-1];if(n())return s(f,h);a(p)},e)},retry:function(b,d,a){function c(c,f){a=c||a||function(){};var g,h;ga(b,function(a,c){d(function(d,e){g=d;h=e;if(!d)return c(!0);c(d&&a===b-1)},f)},function(){a(g,h)})}"function"==typeof b&&(a=d,d=b,b=5);b=parseInt(b,10)||5;return"function"==typeof a?c():c},iterator:function(b){function d(e){var f=function(){a&&b[c[e]||e].apply(null,arguments);return f.next()};f.next=function(){return e<a-1?d(e+1):null};return f}var a=0,
c=[];Array.isArray(b)?a=b.length:(c=Object.keys(b),a=c.length);return d(0)},apply:function(b){var d=v(arguments,1);return function(){b.apply(this,Array.prototype.concat.apply(d,G(arguments)))}},nextTick:F,setImmediate:x,times:function(b,d,a,c){function e(c){var d=!1;return function(e,h){if(d)throw Error("Callback was already called.");d=!0;f[c]=h;e?(a(e),a=function(){}):++g>=b&&(a(null,f),a=function(){})}}a=a||function(){};var f=[];if(1>b)return a(null,f);var g=0,h=c?d.bind(c):d;q(b,function(a){h(a,
e(a))})},timesSeries:ga,timesLimit:function(b,d,a,c,e){function f(a){var e=!1;return function(f,l){if(e)throw Error("Callback was already called.");e=!0;g[a]=l;f?(c(f),c=function(){}):++h>=b?(c(null,g),c=function(){}):h>=k+d&&(k=h,m())}}c=c||function(){};var g=[];if(1>b)return c(null,g);var h=0,k=0,l=e?a.bind(e):a,m=function(){q(d,function(a){a=k+a;a>=b||l(a,f(a))})};m()},memoize:function(b,d,a){d=d||function(a){return a};var c={},e={},f=function(){function f(){var b=G(arguments);c[l]=b;var d=e[l];
delete e[l];for(var g=-1,h=d.length;++g<h;)d[g].apply(a,b)}var h=G(arguments),k=h.pop(),l=d.apply(null,h);if(c.hasOwnProperty(l))F(function(){k.apply(a,c[l])});else{if(e.hasOwnProperty(l))return e[l].push(k);e[l]=[k];h.push(f);b.apply(a,h)}};f.memo=c;f.unmemoized=b;return f},unmemoize:function(b){return function(){return(b.unmemoized||b).apply(null,arguments)}},log:R("log"),dir:R("dir"),createLogger:R,noConflict:function(){B.async=ja;return C},eventEmitter:function(b){b=b||{};var d=b.limit;return b.parallel&&
!d?new A(ba):b.parallel||b.parallelLimit?new A(Q,d):new A(b.emitter)},EventEmitter:A};z[typeof define]&&define&&define.amd?define([],function(){return C}):z[typeof module]&&module&&module.exports?module.exports=C:B&&z[typeof B.async]?B.neo_async=C:B.async=C;A.prototype.on=function d(a,c){var e=this;"object"==typeof a?t(a,function(a,c){d.call(e,c,a)}):(e._events[a]=e._events[a]||[],Array.isArray(c)?Array.prototype.push.apply(e._events[a],c):e._events[a].push(c));return e};A.prototype.once=function a(c,
e){var f=this;"object"==typeof c?t(c,function(c,e){a.call(f,e,c)}):(Array.isArray(e)?S(e,function(a){a._once=!0}):e._once=!0,f.on(c,e));return f};A.prototype.emit=function(a,c,e){function f(a,e){for(var f=g.length;--f;)g[f]._once&&g.splice(f,1);c(a,e)}c=c||function(){};var g=this._events[a]||[];if(!g.length)return c();a=this._emitter;a=e?a.bind(e):a;a===Q?a(g,this._limit,f):a(g,f);return this}}).call(this);
