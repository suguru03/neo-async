(function(N,P){"object"===typeof exports&&"undefined"!==typeof module?P(exports):"function"===typeof define&&define.amd?define(["exports"],P):N.async?P(N.neo_async=N.neo_async||{}):P(N.async=N.async||{})})(this,function(N){function P(a){var b=function(a){var b=J(arguments,1);setTimeout(function(){a.apply(null,b)})};S="function"===typeof setImmediate?setImmediate:b;"object"===typeof process&&"function"===typeof process.nextTick?(D=/^v0.10/.test(process.version)?S:process.nextTick,ea=/^v0/.test(process.version)?
S:process.nextTick):ea=D=S;!1===a&&(D=function(a){a()})}function G(a){for(var b=-1,c=a.length,d=Array(c);++b<c;)d[b]=a[b];return d}function J(a,b){var c=-1,d=a.length-b;if(0>=d)return[];for(var e=Array(d);++c<d;)e[c]=a[c+b];return e}function L(a){for(var b=F(a),c=b.length,d=-1,e={};++d<c;){var f=b[d];e[f]=a[f]}return e}function ra(a){for(var b=-1,c=a.length,d=[];++b<c;){var e=a[b];e&&(d[d.length]=e)}return d}function bb(a){for(var b=-1,c=a.length,d=Array(c),e=c;++b<c;)d[--e]=a[b];return d}function cb(a,
b){for(var c=-1,d=a.length;++c<d;)if(a[c]===b)return!1;return!0}function Q(a,b){for(var c=-1,d=a.length;++c<d;)b(a[c],c);return a}function T(a,b,c){for(var d=-1,e=c.length;++d<e;){var f=c[d];b(a[f],f)}return a}function K(a,b){for(var c=-1;++c<a;)b(c)}function fa(a,b){for(var c=-1,d=a.length,e=Array(d);++c<d;)e[c]=(a[c]||{})[b];return e}function ha(a,b){return a.criteria-b.criteria}function U(a){var b=[];Q(a,function(a){a!==y&&(C(a)?V.apply(b,a):b.push(a))});return b}function ia(a,b,c){var d=-1,e=
a.length;if(3===b.length)for(;++d<e;)b(a[d],d,c(d));else for(;++d<e;)b(a[d],c(d))}function sa(a,b,c,d){var e=-1,f=d.length;if(3===b.length)for(;++e<f;){var h=d[e];b(a[h],h,c(e))}else for(;++e<f;)b(a[d[e]],c(e))}function ta(a,b,c){var d=-1,e=a.size,f=a[x]();if(3===b.length)for(;++d<e;)a=f.next().value,b(a,d,c(d));else for(;++d<e;)b(f.next().value,c(d))}function W(a,b,c){var d=-1,e=a.length;if(3===b.length)for(;++d<e;){var f=a[d];b(f,d,c(f))}else for(;++d<e;)f=a[d],b(f,c(f))}function X(a,b,c,d){var e=
-1,f=d.length;if(3===b.length)for(;++e<f;){var h=d[e];var p=a[h];b(p,h,c(p))}else for(;++e<f;)p=a[d[e]],b(p,c(p))}function Y(a,b,c){var d,e=-1;a=a[x]();if(3===b.length)for(;!1===(d=a.next()).done;)d=d.value,b(d,++e,c(d));else for(;!1===(d=a.next()).done;)d=d.value,b(d,c(d))}function Z(a,b,c){var d=-1,e=a.length;if(3===b.length)for(;++d<e;){var f=a[d];b(f,d,c(d,f))}else for(;++d<e;)f=a[d],b(f,c(d,f))}function ua(a,b,c,d){var e=-1,f=d.length;if(3===b.length)for(;++e<f;){var h=d[e];var p=a[h];b(p,h,
c(e,p))}else for(;++e<f;)p=a[d[e]],b(p,c(e,p))}function va(a,b,c){var d,e=-1;a=a[x]();if(3===b.length)for(;!1===(d=a.next()).done;)d=d.value,b(d,++e,c(e,d));else for(;!1===(d=a.next()).done;)d=d.value,b(d,c(++e,d))}function wa(a,b,c,d){var e=-1,f=d.length;if(3===b.length)for(;++e<f;){var h=d[e];var p=a[h];b(p,h,c(h,p))}else for(;++e<f;)h=d[e],p=a[h],b(p,c(h,p))}function xa(a,b,c){var d,e=-1;a=a[x]();if(3===b.length)for(;!1===(d=a.next()).done;)d=d.value,b(d,++e,c(e,d));else for(;!1===(d=a.next()).done;)d=
d.value,b(d,c(++e,d))}function E(a){return function(b,c){var d=a;a=A;d(b,c)}}function H(a){return function(b,c){var d=a;a=y;d(b,c)}}function ya(a,b,c,d){if(d){var e=Array;var f=G}else e=function(){return{}},f=L;return function(d,p,r){function h(a){return function(b,c){null===a&&A();b?(a=null,r=H(r),r(b,f(m))):(m[a]=c,a=null,++l===k&&r(null,m))}}r=r||y;var l=0;if(C(d)){var k=d.length;var m=e(k);a(d,p,h)}else if(d)if(x&&d[x])k=d.size,m=e(k),c(d,p,h);else if("object"===typeof d){var n=F(d);k=n.length;
m=e(k);b(d,p,h,n)}k||r(null,e())}}function za(a,b,c,d){return function(e,f,h){function p(a,b){return function(c,e){null===a&&A();c?(a=null,h=H(h),h(c)):(!!e===d&&(l[a]=b),a=null,++r===q&&h(null,ra(l)))}}h=h||y;var r=0;if(C(e)){var q=e.length;var l=Array(q);a(e,f,p)}else if(e)if(x&&e[x])q=e.size,l=Array(q),c(e,f,p);else if("object"===typeof e){var k=F(e);q=k.length;l=Array(q);b(e,f,p,k)}if(!q)return h(null,[])}}function Aa(a){return function(b,c,d){function e(){m=b[g];c(m,l)}function f(){m=b[g];c(m,
g,l)}function h(){m=v.next().value;c(m,l)}function p(){m=v.next().value;c(m,g,l)}function r(){k=z[g];m=b[k];c(m,l)}function q(){k=z[g];m=b[k];c(m,k,l)}function l(b,c){b?d(b):(!!c===a&&(t[t.length]=m),++g===u?(w=A,d(null,t)):n?D(w):(n=!0,w()),n=!1)}d=E(d||y);var k,m,n=!1,g=0,t=[];if(C(b)){var u=b.length;var w=3===c.length?f:e}else if(b)if(x&&b[x]){u=b.size;var v=b[x]();w=3===c.length?p:h}else if("object"===typeof b){var z=F(b);u=z.length;w=3===c.length?q:r}if(!u)return d(null,[]);w()}}function Ba(a){return function(b,
c,d,e){function f(){m=w++;m<z&&(g=b[m],d(g,k(g,m)))}function h(){m=w++;m<z&&(g=b[m],d(g,m,k(g,m)))}function p(){!1===(t=I.next()).done&&(g=t.value,d(g,k(g,w++)))}function r(){!1===(t=I.next()).done&&(g=t.value,d(g,w,k(g,w++)))}function q(){m=w++;m<z&&(g=b[O[m]],d(g,k(g,m)))}function l(){m=w++;m<z&&(n=O[m],g=b[n],d(g,n,k(g,m)))}function k(b,c){return function(d,f){null===c&&A();d?(c=null,B=y,e=H(e),e(d)):(!!f===a&&(R[c]=b),c=null,++v===z?(e=E(e),e(null,ra(R))):u?D(B):(u=!0,B()),u=!1)}}e=e||y;var m,
n,g,t,u=!1,w=0,v=0;if(C(b)){var z=b.length;var B=3===d.length?h:f}else if(b)if(x&&b[x]){z=b.size;var I=b[x]();B=3===d.length?r:p}else if("object"===typeof b){var O=F(b);z=O.length;B=3===d.length?l:q}if(!z||isNaN(c)||1>c)return e(null,[]);var R=Array(z);K(c>z?z:c,B)}}function aa(a,b,c){function d(){b(a[n],q)}function e(){b(a[n],n,q)}function f(){b(u.next().value,q)}function h(){k=u.next().value;b(k,n,q)}function p(){b(a[w[n]],q)}function r(){l=w[n];b(a[l],l,q)}function q(a,b){a?c(a):++n===g?(t=A,c(null)):
!1===b?(t=A,c(null)):m?D(t):(m=!0,t());m=!1}c=E(c||y);var l,k,m=!1,n=0;if(C(a)){var g=a.length;var t=3===b.length?e:d}else if(a)if(x&&a[x]){g=a.size;var u=a[x]();t=3===b.length?h:f}else if("object"===typeof a){var w=F(a);g=w.length;t=3===b.length?r:p}if(!g)return c(null);t()}function ba(a,b,c,d){function e(){t<w&&c(a[t++],l)}function f(){k=t++;k<w&&c(a[k],k,l)}function h(){!1===(n=z.next()).done&&c(n.value,l)}function p(){!1===(n=z.next()).done&&c(n.value,t++,l)}function r(){t<w&&c(a[B[t++]],l)}function q(){k=
t++;k<w&&(m=B[k],c(a[m],m,l))}function l(a,b){a?(v=y,d=H(d),d(a)):++u===w?(v=A,d=E(d),d(null)):!1===b?(v=y,d=H(d),d(null)):g?D(v):(g=!0,v());g=!1}d=d||y;var k,m,n,g=!1,t=0,u=0;if(C(a)){var w=a.length;var v=3===c.length?f:e}else if(a)if(x&&a[x]){w=a.size;var z=a[x]();v=3===c.length?p:h}else if("object"===typeof a){var B=F(a);w=B.length;v=3===c.length?q:r}else return d(null);if(!w||isNaN(b)||1>b)return d(null);K(b>w?w:b,v)}function Ca(a,b,c){function d(){b(a[n],q)}function e(){b(a[n],n,q)}function f(){b(u.next().value,
q)}function h(){k=u.next().value;b(k,n,q)}function p(){b(a[w[n]],q)}function r(){l=w[n];b(a[l],l,q)}function q(a,b){a?(t=A,c=E(c),c(a,G(v))):(v[n]=b,++n===g?(t=A,c(null,v),c=A):m?D(t):(m=!0,t()),m=!1)}c=c||y;var l,k,m=!1,n=0;if(C(a)){var g=a.length;var t=3===b.length?e:d}else if(a)if(x&&a[x]){g=a.size;var u=a[x]();t=3===b.length?h:f}else if("object"===typeof a){var w=F(a);g=w.length;t=3===b.length?r:p}if(!g)return c(null,[]);var v=Array(g);t()}function Da(a,b,c,d){return function(e,f,h){function p(a){var b=
!1;return function(c,e){b&&A();b=!0;c?(h=H(h),h(c)):!!e===d?(h=H(h),h(null,a)):++r===q&&h(null)}}h=h||y;var r=0;if(C(e)){var q=e.length;a(e,f,p)}else if(e)if(x&&e[x])q=e.size,c(e,f,p);else if("object"===typeof e){var l=F(e);q=l.length;b(e,f,p,l)}q||h(null)}}function Ea(a){return function(b,c,d){function e(){m=b[g];c(m,l)}function f(){m=b[g];c(m,g,l)}function h(){m=w.next().value;c(m,l)}function p(){m=w.next().value;c(m,g,l)}function r(){m=b[v[g]];c(m,l)}function q(){k=v[g];m=b[k];c(m,k,l)}function l(b,
c){b?d(b):!!c===a?(u=A,d(null,m)):++g===t?(u=A,d(null)):n?D(u):(n=!0,u());n=!1}d=E(d||y);var k,m,n=!1,g=0;if(C(b)){var t=b.length;var u=3===c.length?f:e}else if(b)if(x&&b[x]){t=b.size;var w=b[x]();u=3===c.length?p:h}else if("object"===typeof b){var v=F(b);t=v.length;u=3===c.length?q:r}if(!t)return d(null);u()}}function Fa(a){return function(b,c,d,e){function f(){m=w++;m<z&&(g=b[m],d(g,k(g)))}function h(){m=w++;m<z&&(g=b[m],d(g,m,k(g)))}function p(){!1===(t=I.next()).done&&(g=t.value,d(g,k(g)))}function r(){!1===
(t=I.next()).done&&(g=t.value,d(g,w++,k(g)))}function q(){m=w++;m<z&&(g=b[O[m]],d(g,k(g)))}function l(){w<z&&(n=O[w++],g=b[n],d(g,n,k(g)))}function k(b){var c=!1;return function(d,f){c&&A();c=!0;d?(B=y,e=H(e),e(d)):!!f===a?(B=y,e=H(e),e(null,b)):++v===z?e(null):u?D(B):(u=!0,B());u=!1}}e=e||y;var m,n,g,t,u=!1,w=0,v=0;if(C(b)){var z=b.length;var B=3===d.length?h:f}else if(b)if(x&&b[x]){z=b.size;var I=b[x]();B=3===d.length?r:p}else if("object"===typeof b){var O=F(b);z=O.length;B=3===d.length?l:q}if(!z||
isNaN(c)||1>c)return e(null);K(c>z?z:c,B)}}function Ga(a,b,c,d){return function(e,f,h){function p(a,b){return function(c,e){null===a&&A();c?(a=null,h=H(h),h(c,L(q))):(!!e===d&&(q[a]=b),a=null,++r===l&&h(null,q))}}h=h||y;var r=0,q={};if(C(e)){var l=e.length;a(e,f,p)}else if(e)if(x&&e[x])l=e.size,c(e,f,p);else if("object"===typeof e){var k=F(e);l=k.length;b(e,f,p,k)}if(!l)return h(null,{})}}function Ha(a){return function(b,c,d){function e(){k=t;m=b[t];c(m,l)}function f(){k=t;m=b[t];c(m,t,l)}function h(){k=
t;m=v.next().value;c(m,l)}function p(){k=t;m=v.next().value;c(m,k,l)}function r(){k=z[t];m=b[k];c(m,l)}function q(){k=z[t];m=b[k];c(m,k,l)}function l(b,c){b?d(b,g):(!!c===a&&(g[k]=m),++t===u?(w=A,d(null,g)):n?D(w):(n=!0,w()),n=!1)}d=E(d||y);var k,m,n=!1,g={},t=0;if(C(b)){var u=b.length;var w=3===c.length?f:e}else if(b)if(x&&b[x]){u=b.size;var v=b[x]();w=3===c.length?p:h}else if("object"===typeof b){var z=F(b);u=z.length;w=3===c.length?q:r}if(!u)return d(null,{});w()}}function Ia(a){return function(b,
c,d,e){function f(){m=v++;m<B&&(g=b[m],d(g,k(g,m)))}function h(){m=v++;m<B&&(g=b[m],d(g,m,k(g,m)))}function p(){!1===(t=O.next()).done&&(g=t.value,d(g,k(g,v++)))}function r(){!1===(t=O.next()).done&&(g=t.value,d(g,v,k(g,v++)))}function q(){v<B&&(n=R[v++],g=b[n],d(g,k(g,n)))}function l(){v<B&&(n=R[v++],g=b[n],d(g,n,k(g,n)))}function k(b,c){return function(d,f){null===c&&A();d?(c=null,I=y,e=H(e),e(d,L(w))):(!!f===a&&(w[c]=b),c=null,++z===B?(I=A,e=E(e),e(null,w)):u?D(I):(u=!0,I()),u=!1)}}e=e||y;var m,
n,g,t,u=!1,w={},v=0,z=0;if(C(b)){var B=b.length;var I=3===d.length?h:f}else if(b)if(x&&b[x]){B=b.size;var O=b[x]();I=3===d.length?r:p}else if("object"===typeof b){var R=F(b);B=R.length;I=3===d.length?l:q}if(!B||isNaN(c)||1>c)return e(null,{});K(c>B?B:c,I)}}function ca(a,b,c,d){function e(b){c(b,a[n],l)}function f(b){c(b,a[n],n,l)}function h(){c(b,u.next().value,l)}function p(){c(b,u.next().value,n,l)}function r(b){c(b,a[w[n]],l)}function q(b){k=w[n];c(b,a[k],k,l)}function l(a,b){a?d(a,b):++n===g?
(c=A,d(null,b)):m?D(function(){t(b)}):(m=!0,t(b));m=!1}d=E(d||y);var k,m=!1,n=0;if(C(a)){var g=a.length;var t=4===c.length?f:e}else if(a)if(x&&a[x]){g=a.size;var u=a[x]();t=4===c.length?p:h}else if("object"===typeof a){var w=F(a);g=w.length;t=4===c.length?q:r}if(!g)return d(null,b);t(b)}function Ja(a,b,c,d){function e(b){c(b,a[--n],r)}function f(b){c(b,a[--n],n,r)}function h(b){c(b,a[w[--n]],r)}function p(b){l=w[--n];c(b,a[l],l,r)}function r(a,b){a?d(a,b):0===n?(g=A,d(null,b)):m?D(function(){g(b)}):
(m=!0,g(b));m=!1}d=E(d||y);var q,l,k,m=!1;if(C(a)){var n=a.length;var g=4===c.length?f:e}else if(a)if(x&&a[x]){n=a.size;var t=Array(n);var u=a[x]();for(q=-1;!1===(k=u.next()).done;)t[++q]=k.value;a=t;g=4===c.length?f:e}else if("object"===typeof a){var w=F(a);n=w.length;g=4===c.length?p:h}if(!n)return d(null,b);g(b)}function Ka(a,b,c){c=c||y;ja(a,b,function(a,b){if(a)return c(a);c(null,!!b)})}function La(a,b,c){c=c||y;ka(a,b,function(a,b){if(a)return c(a);c(null,!!b)})}function Ma(a,b,c,d){d=d||y;
la(a,b,c,function(a,b){if(a)return d(a);d(null,!!b)})}function Na(a,b){return C(a)?0===a.length?(b(null),!1):!0:(b(Error("First argument to waterfall must be an array of functions")),!1)}function ma(a,b,c){switch(b.length){case 0:case 1:return a(c);case 2:return a(b[1],c);case 3:return a(b[1],b[2],c);case 4:return a(b[1],b[2],b[3],c);case 5:return a(b[1],b[2],b[3],b[4],c);case 6:return a(b[1],b[2],b[3],b[4],b[5],c);default:return b=J(b,1),b.push(c),a.apply(null,b)}}function Oa(a,b){function c(c,l){if(c)r=
A,b=E(b),b(c);else if(++d===f){r=A;var k=b;b=A;2===arguments.length?k(c,l):k.apply(null,G(arguments))}else h=a[d],p=arguments,e?D(r):(e=!0,r()),e=!1}b=b||y;if(Na(a,b)){var d=0,e=!1,f=a.length,h=a[d],p=[],r=function(){switch(h.length){case 0:try{c(null,h())}catch(q){c(q)}break;case 1:return h(c);case 2:return h(p[1],c);case 3:return h(p[1],p[2],c);case 4:return h(p[1],p[2],p[3],c);case 5:return h(p[1],p[2],p[3],p[4],c);default:return p=J(p,1),p[h.length-1]=c,h.apply(null,p)}};r()}}function Pa(){var a=
G(arguments);return function(){var b=this,c=G(arguments),d=c[c.length-1];"function"===typeof d?c.pop():d=y;ca(a,c,function(a,c,d){a.push(function(a){var b=J(arguments,1);d(a,b)});c.apply(b,a)},function(a,c){c=C(c)?c:[c];c.unshift(a);d.apply(b,c)})}}function Qa(a){return function(b){var c=function(){var c=this,d=G(arguments),h=d.pop()||y;return a(b,function(a,b){a.apply(c,d.concat([b]))},h)};if(1<arguments.length){var d=J(arguments,1);return c.apply(this,d)}return c}}function M(){this.tail=this.head=
null;this.length=0}function na(a,b,c,d){function e(a){a={data:a,callback:m};n?g._tasks.unshift(a):g._tasks.push(a);D(g.process)}function f(a,b,c){if(null==b)b=y;else if("function"!==typeof b)throw Error("task callback must be a function");g.started=!0;var d=C(a)?a:[a];void 0!==a&&d.length?(n=c,m=b,Q(d,e)):g.idle()&&D(g.drain)}function h(a,b){var c=!1;return function(d,e){c&&A();c=!0;l--;for(var f,h=-1,g=k.length,p=-1,m=b.length,n=2<arguments.length,r=n&&G(arguments);++p<m;){for(f=b[p];++h<g;)k[h]===
f&&(k.splice(h,1),h=g,g--);h=-1;n?f.callback.apply(f,r):f.callback(d,e);d&&a.error(d,f.data)}l<=a.concurrency-a.buffer&&a.unsaturated();0===a._tasks.length+l&&a.drain();a.process()}}function p(){for(;!g.paused&&l<g.concurrency&&g._tasks.length;){var a=g._tasks.shift();l++;k.push(a);0===g._tasks.length&&g.empty();l===g.concurrency&&g.saturated();var c=h(g,[a]);b(a.data,c)}}function r(){for(;!g.paused&&l<g.concurrency&&g._tasks.length;){for(var a=g._tasks.splice(g.payload||g._tasks.length),c=-1,d=a.length,
e=Array(d);++c<d;)e[c]=a[c].data;l++;V.apply(k,a);0===g._tasks.length&&g.empty();l===g.concurrency&&g.saturated();a=h(g,a);b(e,a)}}function q(){D(g.process)}if(void 0===c)c=1;else if(isNaN(c)||1>c)throw Error("Concurrency must not be zero");var l=0,k=[],m,n,g={_tasks:new M,concurrency:c,payload:d,saturated:y,unsaturated:y,buffer:c/4,empty:y,drain:y,error:y,started:!1,paused:!1,push:function(a,b){f(a,b)},kill:function(){g.drain=y;g._tasks.empty()},unshift:function(a,b){f(a,b,!0)},remove:function(a){g._tasks.remove(a)},
process:a?p:r,length:function(){return g._tasks.length},running:function(){return l},workersList:function(){return k},idle:function(){return 0===g.length()+l},pause:function(){g.paused=!0},resume:function(){!1!==g.paused&&(g.paused=!1,K(g.concurrency<g._tasks.length?g.concurrency:g._tasks.length,q))},_worker:b};return g}function Ra(a,b,c){function d(){if(0===q.length&&0===r){if(0!==h)throw Error("async.auto task has cyclic dependencies");return c(null,p)}for(;q.length&&r<b&&c!==y;){r++;var a=q.shift();
if(0===a[1])a[0](a[2]);else a[0](p,a[2])}}function e(a){Q(l[a]||[],function(a){a()});d()}"function"===typeof b&&(c=b,b=null);var f=F(a),h=f.length,p={};if(0===h)return c(null,p);var r=0,q=[],l=Object.create(null);c=E(c||y);b=b||h;T(a,function(a,b){function d(a,d){null===b&&A();r--;h--;d=2>=arguments.length?d:J(arguments,1);if(a){var f=L(p);f[b]=d;b=null;var g=c;c=y;g(a,f)}else p[b]=d,e(b),b=null}function g(){0===--k&&q.push([m,w,d])}if(C(a)){var k=a.length-1;var m=a[k];var w=k;if(0===k)q.push([m,
w,d]);else for(var v=-1;++v<k;){var z=a[v];if(cb(f,z))throw v="async.auto task `"+b+"` has non-existent dependency `"+z+"` in "+a.join(", "),Error(v);var x=l[z];x||(x=l[z]=[]);x.push(g)}}else m=a,w=0,q.push([m,w,d])},f);d()}function db(a){a=a.toString().replace(eb,"");a=(a=a.match(fb)[2].replace(" ",""))?a.split(gb):[];return a=a.map(function(a){return a.replace(hb,"").trim()})}function oa(a,b,c){function d(a,e){if(++h===p||!a||r&&!r(a)){if(2>=arguments.length)return c(a,e);var f=G(arguments);return c.apply(null,
f)}b(d)}function e(){b(f)}function f(a,b){if(++h===p||!a||r&&!r(a)){if(2>=arguments.length)return c(a,b);var d=G(arguments);return c.apply(null,d)}setTimeout(e,l(h))}var h=0;if(3>arguments.length&&"function"===typeof a){c=b||y;b=a;a=null;var p=5}else switch(c=c||y,typeof a){case "object":if("function"===typeof a.errorFilter)var r=a.errorFilter;var q=a.interval;switch(typeof q){case "function":var l=q;break;case "string":case "number":l=(q=+q)?function(){return q}:function(){return 0}}p=+a.times||
5;break;case "number":p=a||5;break;case "string":p=+a||5;break;default:throw Error("Invalid arguments for async.retry");}if("function"!==typeof b)throw Error("Invalid arguments for async.retry");l?b(f):b(d)}function Sa(a){return function(){var b=G(arguments),c=b.pop();try{var d=a.apply(this,b)}catch(e){return c(e)}d&&"function"===typeof d.then?d.then(function(a){try{c(null,a)}catch(f){D(Ta,f)}},function(a){a=a.message?a:Error(a);try{c(a,void 0)}catch(f){D(Ta,f)}}):c(null,d)}}function Ta(a){throw a;
}function Ua(a){return function(){function b(a,b){if(a)return c(null,{error:a});2<arguments.length&&(b=J(arguments,1));c(null,{value:b})}switch(arguments.length){case 1:var c=arguments[0];return a(b);case 2:return c=arguments[1],a(arguments[0],b);default:var d=G(arguments),e=d.length-1;c=d[e];d[e]=b;a.apply(this,d)}}}function pa(a){function b(b){if("object"===typeof console)if(b)console.error&&console.error(b);else if(console[a]){var c=J(arguments,1);Q(c,function(b){console[a](b)})}}return function(a){var c=
J(arguments,1);c.push(b);a.apply(null,c)}}var y=function(){},A=function(){throw Error("Callback was already called.");},C=Array.isArray,F=Object.keys,V=Array.prototype.push,x="function"===typeof Symbol&&Symbol.iterator,D,ea,S;P();var da=function(a,b,c){return function(d,e,f){function h(a,b){a?(f=H(f),f(a)):++p===r?f(null):!1===b&&(f=H(f),f(null))}f=f||y;var p=0;if(C(d)){var r=d.length;a(d,e,h)}else if(d)if(x&&d[x])r=d.size,c(d,e,h);else if("object"===typeof d){var q=F(d);r=q.length;b(d,e,h,q)}r||
f(null)}}(function(a,b,c){var d=-1,e=a.length;if(3===b.length)for(;++d<e;)b(a[d],d,E(c));else for(;++d<e;)b(a[d],E(c))},function(a,b,c,d){var e=-1,f=d.length;if(3===b.length)for(;++e<f;){var h=d[e];b(a[h],h,E(c))}else for(;++e<f;)b(a[d[e]],E(c))},function(a,b,c){a=a[x]();var d=-1,e;if(3===b.length)for(;!1===(e=a.next()).done;)b(e.value,++d,E(c));else for(;!1===(e=a.next()).done;)b(e.value,E(c))}),Va=ya(ia,sa,ta,!0),ib=ya(ia,function(a,b,c,d){var e=-1,f=d.length;if(3===b.length)for(;++e<f;){var h=
d[e];b(a[h],h,c(h))}else for(;++e<f;)h=d[e],b(a[h],c(h))},function(a,b,c){var d=-1,e=a[x]();if(3===b.length)for(;!1===(a=e.next()).done;)b(a.value,++d,c(d));else for(;!1===(a=e.next()).done;)b(a.value,c(++d))},!1),Wa=za(Z,ua,va,!0),Xa=Aa(!0),Ya=Ba(!0),jb=za(Z,ua,va,!1),kb=Aa(!1),lb=Ba(!1),ja=Da(W,X,Y,!0),ka=Ea(!0),la=Fa(!0),Za=function(a,b,c){var d=Da(a,b,c,!1);return function(a,b,c){c=c||y;d(a,b,function(a,b){if(a)return c(a);c(null,!b)})}}(W,X,Y),$a=function(){var a=Ea(!1);return function(b,c,d){d=
d||y;a(b,c,function(a,b){if(a)return d(a);d(null,!b)})}}(),ab=function(){var a=Fa(!1);return function(b,c,d,e){e=e||y;a(b,c,d,function(a,b){if(a)return e(a);e(null,!b)})}}(),mb=Ga(Z,wa,xa,!0),nb=Ha(!0),ob=Ia(!0),pb=Ga(Z,wa,xa,!1),qb=Ha(!1),rb=Ia(!1),sb=function(a,b,c){return function(d,e,f,h){function p(a,b){a?(h=H(h),h(a,C(l)?G(l):L(l))):++r===q?h(null,l):!1===b&&(h=H(h),h(null,C(l)?G(l):L(l)))}3===arguments.length&&(h=f,f=e,e=void 0);h=h||y;var r=0;if(C(d)){var q=d.length;var l=void 0!==e?e:[];
a(d,l,f,p)}else if(d)if(x&&d[x])q=d.size,l=void 0!==e?e:{},c(d,l,f,p);else if("object"===typeof d){var k=F(d);q=k.length;l=void 0!==e?e:{};b(d,l,f,p,k)}q||h(null,void 0!==e?e:l||{})}}(function(a,b,c,d){var e=-1,f=a.length;if(4===c.length)for(;++e<f;)c(b,a[e],e,E(d));else for(;++e<f;)c(b,a[e],E(d))},function(a,b,c,d,e){var f=-1,h=e.length;if(4===c.length)for(;++f<h;){var p=e[f];c(b,a[p],p,E(d))}else for(;++f<h;)c(b,a[e[f]],E(d))},function(a,b,c,d){var e=-1,f=a[x]();if(4===c.length)for(;!1===(a=f.next()).done;)c(b,
a.value,++e,E(d));else for(;!1===(a=f.next()).done;)c(b,a.value,E(d))}),tb=function(a,b,c){return function(d,e,f){function h(a){var b=!1;return function(c,d){b&&A();b=!0;q[p]={value:a,criteria:d};c?(f=H(f),f(c)):++p===r&&(q.sort(ha),f(null,fa(q,"value")))}}f=f||y;var p=0;if(C(d)){var r=d.length;var q=Array(r);a(d,e,h)}else if(d)if(x&&d[x])r=d.size,q=Array(r),c(d,e,h);else if("object"===typeof d){var l=F(d);r=l.length;q=Array(r);b(d,e,h,l)}r||f(null,[])}}(W,X,Y),ub=function(a,b,c){return function(d,
e,f){function h(a){return function(b,c){null===a&&A();if(b)a=null,f=H(f),Q(q,function(a,b){void 0===a&&(q[b]=y)}),f(b,U(q));else{switch(arguments.length){case 0:case 1:q[a]=y;break;case 2:q[a]=c;break;default:q[a]=J(arguments,1)}a=null;++p===r&&f(null,U(q))}}}f=f||y;var p=0;if(C(d)){var r=d.length;var q=Array(r);a(d,e,h)}else if(d)if(x&&d[x])r=d.size,q=Array(r),c(d,e,h);else if("object"===typeof d){var l=F(d);r=l.length;q=Array(r);b(d,e,h,l)}r||f(null,[])}}(ia,sa,ta),vb=function(a,b,c){return function(d,
e,f){function h(a){var b=!1;return function(c,d){b&&A();b=!0;if(c)f=H(f),f(c,L(r));else{var e=r[d];e?e.push(a):r[d]=[a];++p===q&&f(null,r)}}}f=f||y;var p=0,r={};if(C(d)){var q=d.length;a(d,e,h)}else if(d)if(x&&d[x])q=d.size,c(d,e,h);else if("object"===typeof d){var l=F(d);q=l.length;b(d,e,h,l)}q||f(null,{})}}(W,X,Y),wb=function(a,b){return function(c,d){function e(a){return function(b,c){null===a&&A();b?(a=null,d=H(d),d(b,p)):(p[a]=2>=arguments.length?c:J(arguments,1),a=null,++f===h&&d(null,p))}}
d=d||y;var f=0;if(C(c)){var h=c.length;var p=Array(h);a(c,e)}else if(c&&"object"===typeof c){var r=F(c);h=r.length;p={};b(c,e,r)}h||d(null,p)}}(function(a,b){for(var c=-1,d=a.length;++c<d;)a[c](b(c))},function(a,b,c){for(var d,e=-1,f=c.length;++e<f;)d=c[e],a[d](b(d))}),xb=Qa(Va),yb=Qa(Ca),zb=pa("log"),Ab=pa("dir"),qa={VERSION:"2.4.0",each:da,eachSeries:aa,eachLimit:ba,forEach:da,forEachSeries:aa,forEachLimit:ba,eachOf:da,eachOfSeries:aa,eachOfLimit:ba,forEachOf:da,forEachOfSeries:aa,forEachOfLimit:ba,
map:Va,mapSeries:Ca,mapLimit:function(a,b,c,d){function e(){k=t++;k<w&&c(a[k],l(k))}function f(){k=t++;k<w&&c(a[k],k,l(k))}function h(){!1===(n=z.next()).done&&c(n.value,l(t++))}function p(){!1===(n=z.next()).done&&c(n.value,t,l(t++))}function r(){k=t++;k<w&&c(a[B[k]],l(k))}function q(){k=t++;k<w&&(m=B[k],c(a[m],m,l(k)))}function l(a){return function(b,c){null===a&&A();b?(a=null,v=y,d=H(d),d(b,G(I))):(I[a]=c,a=null,++u===w?(v=A,d(null,I),d=A):g?D(v):(g=!0,v()),g=!1)}}d=d||y;var k,m,n,g=!1,t=0,u=0;
if(C(a)){var w=a.length;var v=3===c.length?f:e}else if(a)if(x&&a[x]){w=a.size;var z=a[x]();v=3===c.length?p:h}else if("object"===typeof a){var B=F(a);w=B.length;v=3===c.length?q:r}if(!w||isNaN(b)||1>b)return d(null,[]);var I=Array(w);K(b>w?w:b,v)},mapValues:ib,mapValuesSeries:function(a,b,c){function d(){l=g;b(a[g],q)}function e(){l=g;b(a[g],g,q)}function f(){l=g;k=w.next().value;b(k,q)}function h(){l=g;k=w.next().value;b(k,g,q)}function p(){l=v[g];b(a[l],q)}function r(){l=v[g];b(a[l],l,q)}function q(a,
b){a?(u=A,c=E(c),c(a,L(n))):(n[l]=b,++g===t?(u=A,c(null,n),c=A):m?D(u):(m=!0,u()),m=!1)}c=c||y;var l,k,m=!1,n={},g=0;if(C(a)){var t=a.length;var u=3===b.length?e:d}else if(a)if(x&&a[x]){t=a.size;var w=a[x]();u=3===b.length?h:f}else if("object"===typeof a){var v=F(a);t=v.length;u=3===b.length?r:p}if(!t)return c(null,n);u()},mapValuesLimit:function(a,b,c,d){function e(){k=u++;k<v&&c(a[k],l(k))}function f(){k=u++;k<v&&c(a[k],k,l(k))}function h(){!1===(n=B.next()).done&&c(n.value,l(u++))}function p(){!1===
(n=B.next()).done&&c(n.value,u,l(u++))}function r(){k=u++;k<v&&(m=I[k],c(a[m],l(m)))}function q(){k=u++;k<v&&(m=I[k],c(a[m],m,l(m)))}function l(a){return function(b,c){null===a&&A();b?(a=null,z=y,d=H(d),d(b,L(t))):(t[a]=c,a=null,++w===v?d(null,t):g?D(z):(g=!0,z()),g=!1)}}d=d||y;var k,m,n,g=!1,t={},u=0,w=0;if(C(a)){var v=a.length;var z=3===c.length?f:e}else if(a)if(x&&a[x]){v=a.size;var B=a[x]();z=3===c.length?p:h}else if("object"===typeof a){var I=F(a);v=I.length;z=3===c.length?q:r}if(!v||isNaN(b)||
1>b)return d(null,t);K(b>v?v:b,z)},filter:Wa,filterSeries:Xa,filterLimit:Ya,select:Wa,selectSeries:Xa,selectLimit:Ya,reject:jb,rejectSeries:kb,rejectLimit:lb,detect:ja,detectSeries:ka,detectLimit:la,find:ja,findSeries:ka,findLimit:la,pick:mb,pickSeries:nb,pickLimit:ob,omit:pb,omitSeries:qb,omitLimit:rb,reduce:ca,inject:ca,foldl:ca,reduceRight:Ja,foldr:Ja,transform:sb,transformSeries:function(a,b,c,d){function e(){c(t,a[n],l)}function f(){c(t,a[n],n,l)}function h(){c(t,w.next().value,l)}function p(){c(t,
w.next().value,n,l)}function r(){c(t,a[v[n]],l)}function q(){k=v[n];c(t,a[k],k,l)}function l(a,b){a?d(a,t):++n===g?(u=A,d(null,t)):!1===b?(u=A,d(null,t)):m?D(u):(m=!0,u());m=!1}3===arguments.length&&(d=c,c=b,b=void 0);d=E(d||y);var k,m=!1,n=0;if(C(a)){var g=a.length;var t=void 0!==b?b:[];var u=4===c.length?f:e}else if(a)if(x&&a[x]){g=a.size;var w=a[x]();t=void 0!==b?b:{};u=4===c.length?p:h}else if("object"===typeof a){var v=F(a);g=v.length;t=void 0!==b?b:{};u=4===c.length?q:r}if(!g)return d(null,
void 0!==b?b:t||{});u()},transformLimit:function(a,b,c,d,e){function f(){m=u++;m<v&&d(z,a[m],E(k))}function h(){m=u++;m<v&&d(z,a[m],m,E(k))}function p(){!1===(g=A.next()).done&&d(z,g.value,E(k))}function r(){!1===(g=A.next()).done&&d(z,g.value,u++,E(k))}function q(){m=u++;m<v&&d(z,a[H[m]],E(k))}function l(){m=u++;m<v&&(n=H[m],d(z,a[n],n,E(k)))}function k(a,b){a?(B=y,e(a,C(z)?G(z):L(z)),e=y):++w===v?e(null,z):!1===b?(B=y,e(null,C(z)?G(z):L(z)),e=y):t?D(B):(t=!0,B());t=!1}4===arguments.length&&(e=d,
d=c,c=void 0);e=e||y;var m,n,g,t=!1,u=0,w=0;if(C(a)){var v=a.length;var z=void 0!==c?c:[];var B=4===d.length?h:f}else if(a)if(x&&a[x]){v=a.size;var A=a[x]();z=void 0!==c?c:{};B=4===d.length?r:p}else if("object"===typeof a){var H=F(a);v=H.length;z=void 0!==c?c:{};B=4===d.length?l:q}if(!v||isNaN(b)||1>b)return e(null,void 0!==c?c:z||{});K(b>v?v:b,B)},sortBy:tb,sortBySeries:function(a,b,c){function d(){k=a[n];b(k,q)}function e(){k=a[n];b(k,n,q)}function f(){k=u.next().value;b(k,q)}function h(){k=u.next().value;
b(k,n,q)}function p(){k=a[w[n]];b(k,q)}function r(){l=w[n];k=a[l];b(k,l,q)}function q(a,b){v[n]={value:k,criteria:b};a?c(a):++n===g?(t=A,v.sort(ha),c(null,fa(v,"value"))):m?D(t):(m=!0,t());m=!1}c=E(c||y);var l,k,m=!1,n=0;if(C(a)){var g=a.length;var t=3===b.length?e:d}else if(a)if(x&&a[x]){g=a.size;var u=a[x]();t=3===b.length?h:f}else if("object"===typeof a){var w=F(a);g=w.length;t=3===b.length?r:p}if(!g)return c(null,[]);var v=Array(g);t()},sortByLimit:function(a,b,c,d){function e(){u<v&&(n=a[u++],
c(n,l(n)))}function f(){k=u++;k<v&&(n=a[k],c(n,k,l(n)))}function h(){!1===(g=B.next()).done&&(n=g.value,c(n,l(n)))}function p(){!1===(g=B.next()).done&&(n=g.value,c(n,u++,l(n)))}function r(){u<v&&(n=a[I[u++]],c(n,l(n)))}function q(){u<v&&(m=I[u++],n=a[m],c(n,m,l(n)))}function l(a){var b=!1;return function(c,e){b&&A();b=!0;E[w]={value:a,criteria:e};c?(z=y,d(c),d=y):++w===v?(E.sort(ha),d(null,fa(E,"value"))):t?D(z):(t=!0,z());t=!1}}d=d||y;var k,m,n,g,t=!1,u=0,w=0;if(C(a)){var v=a.length;var z=3===c.length?
f:e}else if(a)if(x&&a[x]){v=a.size;var B=a[x]();z=3===c.length?p:h}else if("object"===typeof a){var I=F(a);v=I.length;z=3===c.length?q:r}if(!v||isNaN(b)||1>b)return d(null,[]);var E=Array(v);K(b>v?v:b,z)},some:Ka,someSeries:La,someLimit:Ma,any:Ka,anySeries:La,anyLimit:Ma,every:Za,everySeries:$a,everyLimit:ab,all:Za,allSeries:$a,allLimit:ab,concat:ub,concatSeries:function(a,b,c){function d(){b(a[g],q)}function e(){b(a[g],g,q)}function f(){b(w.next().value,q)}function h(){k=w.next().value;b(k,g,q)}
function p(){b(a[v[g]],q)}function r(){l=v[g];b(a[l],l,q)}function q(a,b){C(b)?V.apply(n,b):2<=arguments.length&&V.apply(n,J(arguments,1));a?c(a,n):++g===t?(u=A,c(null,n)):m?D(u):(m=!0,u());m=!1}c=E(c||y);var l,k,m=!1,n=[],g=0;if(C(a)){var t=a.length;var u=3===b.length?e:d}else if(a)if(x&&a[x]){t=a.size;var w=a[x]();u=3===b.length?h:f}else if("object"===typeof a){var v=F(a);t=v.length;u=3===b.length?r:p}if(!t)return c(null,n);u()},concatLimit:function(a,b,c,d){function e(){g<u&&c(a[g],l(g++))}function f(){g<
u&&c(a[g],g,l(g++))}function h(){!1===(m=v.next()).done&&c(m.value,l(g++))}function p(){!1===(m=v.next()).done&&c(m.value,g,l(g++))}function r(){g<u&&c(a[z[g]],l(g++))}function q(){g<u&&(k=z[g],c(a[k],k,l(g++)))}function l(a){return function(b,c){null===a&&A();if(b)a=null,w=y,d=H(d),Q(B,function(a,b){void 0===a&&(B[b]=y)}),d(b,U(B));else{switch(arguments.length){case 0:case 1:B[a]=y;break;case 2:B[a]=c;break;default:B[a]=J(arguments,1)}a=null;++t===u?(w=A,d(null,U(B)),d=A):n?D(w):(n=!0,w());n=!1}}}
d=d||y;var k,m,n=!1,g=0,t=0;if(C(a)){var u=a.length;var w=3===c.length?f:e}else if(a)if(x&&a[x]){u=a.size;var v=a[x]();w=3===c.length?p:h}else if("object"===typeof a){var z=F(a);u=z.length;w=3===c.length?q:r}if(!u||isNaN(b)||1>b)return d(null,[]);var B=Array(u);K(b>u?u:b,w)},groupBy:vb,groupBySeries:function(a,b,c){function d(){k=a[n];b(k,q)}function e(){k=a[n];b(k,n,q)}function f(){k=w.next().value;b(k,q)}function h(){k=w.next().value;b(k,n,q)}function p(){k=a[v[n]];b(k,q)}function r(){l=v[n];k=
a[l];b(k,l,q)}function q(a,b){if(a)u=A,c=E(c),c(a,L(g));else{var d=g[b];d?d.push(k):g[b]=[k];++n===t?(u=A,c(null,g)):m?D(u):(m=!0,u());m=!1}}c=E(c||y);var l,k,m=!1,n=0,g={};if(C(a)){var t=a.length;var u=3===b.length?e:d}else if(a)if(x&&a[x]){t=a.size;var w=a[x]();u=3===b.length?h:f}else if("object"===typeof a){var v=F(a);t=v.length;u=3===b.length?r:p}if(!t)return c(null,g);u()},groupByLimit:function(a,b,c,d){function e(){u<z&&(n=a[u++],c(n,l(n)))}function f(){k=u++;k<z&&(n=a[k],c(n,k,l(n)))}function h(){!1===
(g=E.next()).done&&(n=g.value,c(n,l(n)))}function p(){!1===(g=E.next()).done&&(n=g.value,c(n,u++,l(n)))}function r(){u<z&&(n=a[G[u++]],c(n,l(n)))}function q(){u<z&&(m=G[u++],n=a[m],c(n,m,l(n)))}function l(a){var b=!1;return function(c,e){b&&A();b=!0;if(c)B=y,d=H(d),d(c,L(v));else{var f=v[e];f?f.push(a):v[e]=[a];++w===z?d(null,v):t?D(B):(t=!0,B());t=!1}}}d=d||y;var k,m,n,g,t=!1,u=0,w=0,v={};if(C(a)){var z=a.length;var B=3===c.length?f:e}else if(a)if(x&&a[x]){z=a.size;var E=a[x]();B=3===c.length?p:
h}else if("object"===typeof a){var G=F(a);z=G.length;B=3===c.length?q:r}if(!z||isNaN(b)||1>b)return d(null,v);K(b>z?z:b,B)},parallel:wb,series:function(a,b){function c(){f=p;a[p](e)}function d(){f=k[p];a[f](e)}function e(a,c){a?(l=A,b=E(b),b(a,q)):(q[f]=2>=arguments.length?c:J(arguments,1),++p===r?(l=A,b(null,q)):h?D(l):(h=!0,l()),h=!1)}b=b||y;var f,h=!1,p=0;if(C(a)){var r=a.length;var q=Array(r);var l=c}else if(a&&"object"===typeof a){var k=F(a);r=k.length;q={};l=d}else return b(null);if(!r)return b(null,
q);l()},parallelLimit:function(a,b,c){function d(){h=q++;if(h<k)a[h](f(h))}function e(){q<k&&(p=g[q++],a[p](f(p)))}function f(a){return function(b,d){null===a&&A();b?(a=null,n=y,c=H(c),c(b,m)):(m[a]=2>=arguments.length?d:J(arguments,1),a=null,++l===k?c(null,m):r?D(n):(r=!0,n()),r=!1)}}c=c||y;var h,p,r=!1,q=0,l=0;if(C(a)){var k=a.length;var m=Array(k);var n=d}else if(a&&"object"===typeof a){var g=F(a);k=g.length;m={};n=e}if(!k||isNaN(b)||1>b)return c(null,m);K(b>k?k:b,n)},tryEach:function(a,b){function c(){a[f](e)}
function d(){a[r[f]](e)}function e(a,c){a?++f===h?b(a):p():2>=arguments.length?b(null,c):b(null,J(arguments,1))}b=b||y;var f=0;if(C(a)){var h=a.length;var p=c}else if(a&&"object"===typeof a){var r=F(a);h=r.length;p=d}if(!h)return b(null);p()},waterfall:function(a,b){function c(){ma(e,f,d(e))}function d(l){return function(k,m){void 0===l&&(b=y,A());l=void 0;k?(h=b,b=A,h(k)):++r===q?(h=b,b=A,2>=arguments.length?h(k,m):h.apply(null,G(arguments))):(p?(f=arguments,e=a[r]||A,D(c)):(p=!0,ma(a[r]||A,arguments,
d(r))),p=!1)}}b=b||y;if(Na(a,b)){var e,f,h,p,r=0,q=a.length;ma(a[0],[],d(0))}},angelFall:Oa,angelfall:Oa,whilst:function(a,b,c){function d(){h?D(e):(h=!0,b(f));h=!1}function e(){b(f)}function f(b,e){if(b)return c(b);2>=arguments.length?a(e)?d():c(null,e):(e=J(arguments,1),a.apply(null,e)?d():c.apply(null,[null].concat(e)))}c=c||y;var h=!1;a()?d():c(null)},doWhilst:function(a,b,c){function d(){h?D(e):(h=!0,a(f));h=!1}function e(){a(f)}function f(a,e){if(a)return c(a);2>=arguments.length?b(e)?d():c(null,
e):(e=J(arguments,1),b.apply(null,e)?d():c.apply(null,[null].concat(e)))}c=c||y;var h=!1;e()},until:function(a,b,c){function d(){h?D(e):(h=!0,b(f));h=!1}function e(){b(f)}function f(b,e){if(b)return c(b);2>=arguments.length?a(e)?c(null,e):d():(e=J(arguments,1),a.apply(null,e)?c.apply(null,[null].concat(e)):d())}c=c||y;var h=!1;a()?c(null):d()},doUntil:function(a,b,c){function d(){h?D(e):(h=!0,a(f));h=!1}function e(){a(f)}function f(a,e){if(a)return c(a);2>=arguments.length?b(e)?c(null,e):d():(e=J(arguments,
1),b.apply(null,e)?c.apply(null,[null].concat(e)):d())}c=c||y;var h=!1;e()},during:function(a,b,c){function d(a,d){if(a)return c(a);d?b(e):c(null)}function e(b){if(b)return c(b);a(d)}c=c||y;a(d)},doDuring:function(a,b,c){function d(b,d){if(b)return c(b);d?a(e):c(null)}function e(a,e){if(a)return c(a);switch(arguments.length){case 0:case 1:b(d);break;case 2:b(e,d);break;default:var f=J(arguments,1);f.push(d);b.apply(null,f)}}c=c||y;d(null,!0)},forever:function(a,b){function c(){a(d)}function d(a){if(a){if(b)return b(a);
throw a;}e?D(c):(e=!0,c());e=!1}var e=!1;c()},compose:function(){return Pa.apply(null,bb(arguments))},seq:Pa,applyEach:xb,applyEachSeries:yb,queue:function(a,b){return na(!0,a,b)},priorityQueue:function(a,b){var c=na(!0,a,b);c.push=function(a,b,f){c.started=!0;b=b||0;var d=C(a)?a:[a],e=d.length;if(void 0===a||0===e)c.idle()&&D(c.drain);else{f="function"===typeof f?f:y;for(a=c._tasks.head;a&&b>=a.priority;)a=a.next;for(;e--;){var r={data:d[e],priority:b,callback:f};a?c._tasks.insertBefore(a,r):c._tasks.push(r);
D(c.process)}}};delete c.unshift;return c},cargo:function(a,b){return na(!1,a,1,b)},auto:Ra,autoInject:function(a,b,c){var d={};T(a,function(a,b){var c=a.length;if(C(a)){if(0===c)throw Error("autoInject task functions require explicit parameters.");var e=G(a);c=e.length-1;a=e[c];if(0===c){d[b]=a;return}}else{if(1===c){d[b]=a;return}e=db(a);if(0===c&&0===e.length)throw Error("autoInject task functions require explicit parameters.");c=e.length-1}e[c]=function(b,d){switch(c){case 1:a(b[e[0]],d);break;
case 2:a(b[e[0]],b[e[1]],d);break;case 3:a(b[e[0]],b[e[1]],b[e[2]],d);break;default:for(var f=-1;++f<c;)e[f]=b[e[f]];e[f]=d;a.apply(null,e)}};d[b]=e},F(a));Ra(d,b,c)},retry:oa,retryable:function(a,b){b||(b=a,a=null);return function(){function c(a){b(a)}function d(a){b(h[0],a)}function e(a){b(h[0],h[1],a)}function f(a){h[p]=a;b.apply(null,h)}var h=G(arguments),p=h.length-1,r=h[p];switch(b.length){case 1:var q=c;break;case 2:q=d;break;case 3:q=e;break;default:q=f}a?oa(a,q,r):oa(q,r)}},iterator:function(a){function b(e){var f=
function(){c&&a[d[e]||e].apply(null,G(arguments));return f.next()};f.next=function(){return e<c-1?b(e+1):null};return f}var c=0,d=[];C(a)?c=a.length:(d=F(a),c=d.length);return b(0)},times:function(a,b,c){function d(b){return function(d,f){null===b&&A();e[b]=f;b=null;d?(c(d),c=y):0===--a&&c(null,e)}}c=c||y;a=+a;if(isNaN(a)||1>a)return c(null,[]);var e=Array(a);K(a,function(a){b(a,d(a))})},timesSeries:function(a,b,c){function d(){b(p,e)}function e(b,e){f[p]=e;b?(c(b),c=A):++p>=a?(c(null,f),c=A):h?D(d):
(h=!0,d());h=!1}c=c||y;a=+a;if(isNaN(a)||1>a)return c(null,[]);var f=Array(a),h=!1,p=0;d()},timesLimit:function(a,b,c,d){function e(){var b=r++;b<a&&c(b,f(b))}function f(b){return function(c,f){null===b&&A();h[b]=f;b=null;c?(d(c),d=y):++q>=a?(d(null,h),d=A):p?D(e):(p=!0,e());p=!1}}d=d||y;a=+a;if(isNaN(a)||1>a||isNaN(b)||1>b)return d(null,[]);var h=Array(a),p=!1,r=0,q=0;K(b>a?a:b,e)},race:function(a,b){b=H(b||y);var c,d=-1;if(C(a))for(c=a.length;++d<c;)a[d](b);else if(a&&"object"===typeof a){var e=
F(a);for(c=e.length;++d<c;)a[e[d]](b)}else return b(new TypeError("First argument to race must be a collection of functions"));c||b(null)},apply:function(a){switch(arguments.length){case 0:case 1:return a;case 2:return a.bind(null,arguments[1]);case 3:return a.bind(null,arguments[1],arguments[2]);case 4:return a.bind(null,arguments[1],arguments[2],arguments[3]);case 5:return a.bind(null,arguments[1],arguments[2],arguments[3],arguments[4]);default:var b=arguments.length,c=0,d=Array(b);for(d[c]=null;++c<
b;)d[c]=arguments[c];return a.bind.apply(a,d)}},nextTick:ea,setImmediate:S,memoize:function(a,b){b=b||function(a){return a};var c={},d={},e=function(){var e=G(arguments),h=e.pop(),p=b.apply(null,e);if(c.hasOwnProperty(p))D(function(){h.apply(null,c[p])});else{if(d.hasOwnProperty(p))return d[p].push(h);d[p]=[h];e.push(function(){var a=G(arguments);c[p]=a;var b=d[p];delete d[p];for(var e=-1,f=b.length;++e<f;)b[e].apply(null,a)});a.apply(null,e)}};e.memo=c;e.unmemoized=a;return e},unmemoize:function(a){return function(){return(a.unmemoized||
a).apply(null,arguments)}},ensureAsync:function(a){return function(){var b=G(arguments),c=b.length-1,d=b[c],e=!0;b[c]=function(){var a=G(arguments);e?D(function(){d.apply(null,a)}):d.apply(null,a)};a.apply(this,b);e=!1}},constant:function(){var a=[null].concat(G(arguments));return function(b){b=arguments[arguments.length-1];b.apply(this,a)}},asyncify:Sa,wrapSync:Sa,log:zb,dir:Ab,reflect:Ua,reflectAll:function(a){function b(a,b){d[b]=Ua(a)}if(C(a)){var c=a.length;var d=Array(c);Q(a,b)}else if(a&&"object"===
typeof a){var e=F(a);c=e.length;d={};T(a,b,e)}return d},timeout:function(a,b,c){function d(){var b=Error('Callback function "'+(a.name||"anonymous")+'" timed out.');b.code="ETIMEDOUT";c&&(b.info=c);p=null;h(b)}function e(){null!==p&&(f(h,G(arguments)),clearTimeout(p))}function f(a,b){switch(b.length){case 0:a();break;case 1:a(b[0]);break;case 2:a(b[0],b[1]);break;default:a.apply(null,b)}}var h,p;return function(){p=setTimeout(d,b);var c=G(arguments),q=c.length-1;h=c[q];c[q]=e;f(a,c)}},createLogger:pa,
safe:function(){P();return N},fast:function(){P(!1);return N}};N["default"]=qa;T(qa,function(a,b){N[b]=a},F(qa));M.prototype._removeLink=function(a){(this.head=a.next)?a.next.prev=a.prev:this.tail=a.prev;a.prev=null;a.next=null;this.length--;return a};M.prototype.empty=M;M.prototype._setInitial=function(a){this.length=1;this.head=this.tail=a};M.prototype.insertBefore=function(a,b){b.prev=a.prev;b.next=a;a.prev?a.prev.next=b:this.head=b;a.prev=b;this.length++};M.prototype.unshift=function(a){this.head?
this.insertBefore(this.head,a):this._setInitial(a)};M.prototype.push=function(a){var b=this.tail;b?(a.prev=b,a.next=b.next,this.tail=a,b.next=a,this.length++):this._setInitial(a)};M.prototype.shift=function(){return this.head&&this._removeLink(this.head)};M.prototype.splice=function(a){for(var b,c=[];a--&&(b=this.shift());)c.push(b);return c};M.prototype.remove=function(a){for(var b=this.head;b;){var c=b.next;a(b)&&this._removeLink(b);b=c}return this};var fb=/^(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,
gb=/,/,hb=/(=.+)?(\s*)$/,eb=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg});